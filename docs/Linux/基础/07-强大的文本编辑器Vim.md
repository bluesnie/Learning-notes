###### datetime:2022-01-08 14:34:00

###### author:nzb

## 强大的文本编辑器:Vim

### 概述

* Vim是linux中的一款使用最广的文本编辑器，全屏幕编辑器。

* 可以建立，编辑，显示文本文件。

* 它没有菜单只有命令.

### 三种模式

* 命令模式：输的东西都会当做命令处理

* 插入模式

    * 后：a/A（行末）

    * 前：i/I（行首）

    * 行：o（光标下）/O（光标上）进入

* 退出模式：ESC键

### 常用操作

* :set ic————搜索时不区分大小写

* 行号相关：

    * :set nu————显示行号

    * :set nonu————关闭行号

* 定位相关

    * gg————快速定位到第一行

    * G————快速定位到最后一行

    * nG————快速定位到第n行

    * :n————快速定位到第n行

    * $————快速定位到行尾

    * 0————快速定位到行首

* 删除相关

    * x————删除光标后字符

    * X————删除光标前字符

    * nx————删除光标后n个字符

    * dd————删除一行

    * dd————删除当前行，ndd删除当前行和下面的n-1行

    * dG————删除当前行到文件末尾

    * D————删除光标到行尾

    * :2,8d————删除第2行到第8行

* 复制粘贴替换相关

    * yy————复制当前行

    * nyy————复制当前行和下面的n-1行

    * p————粘贴到光标上一行

    * P————粘贴到光标下一行

    * dd/ndd 和 p/P ————剪切（删除和粘贴组合）

    * r————替换当前字符

    * R————从当前位置一直往后替换（进入替换模式，esc退出模式）

    * u————恢复

    * ctrl+r————撤销恢复

    * /string————搜索命令，按n找下一个

    * :%s/old/new/g————全文替换old为new

    * :n1,n2s/old/new/g————n1到n2行替换old为new

* 退出保存相关

    * :w————保存（相当于Windows的ctrl+r）

    * :w filename————另存为

    * :wq————保存并退出

    * ZZ————保存并退出

    * :q!————不保存退出

    * :wq!————强制保存退出，针对只读文件可以强行保存(只有文件所有者和root才可以)

### 使用技巧

* 查看命令的执行结果：`:!命令`


* 查看命令的地址：`:!which 命令名`


* 导入内容到文件中

    * 导入文件内容：`:r 导入文件地址(路径)`

    * 导入命令执行结果：`:r !命令 `

    * 导入命令的地址：`:r !which 命令`

    * 导入当前时间：`:r !date`


* 定义快捷键

  `:map 快捷键（Ctrl + v + 自己想要的数字或字母） 触发命令`

* 关键词自动替换

  `:ab mymail XXXXXXX@gmail.com 输入mymail是自动替换为你的邮箱地址`

* 多行注释与取消注释

    * 方法一

        * 注释：Ctrl + v 行首选择多行，I（大写的i，shift + i），插入# ，ESC退出命令模式

        * 取消注释：Ctrl + v 行首选择多行，d

    * 方法二

        * :n,n+10s/^/#/g：注释n行到n+10行

        * :n,n+10s/^#//g：取消注释（注意行首尖叫号 ^）

* 所有配置都是临时的，要永久需要写入配置文件里，存放在用户的家目录下，.vimrc，如果没有的话就自己新建一个也ok